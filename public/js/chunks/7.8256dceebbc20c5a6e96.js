(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{357:function(t,e,n){"use strict";n.r(e);var s=n(12),a=n.n(s),o=n(9);function i(t,e,n,s,a,o,i){try{var r=t[o](i),l=r.value}catch(t){return void n(t)}r.done?e(l):Promise.resolve(l).then(s,a)}function r(t){return function(){var e=this,n=arguments;return new Promise(function(s,a){var o=t.apply(e,n);function r(t){i(o,s,a,r,l,"next",t)}function l(t){i(o,s,a,r,l,"throw",t)}r(void 0)})}}var l={data:function(){return{tab:"home",items:[{text:"Home (NewFeed)",value:"home"},{text:"Feed (Wall)",value:"feed"}],is_start:!1,loading:!1,data:[],uids:"",postsHasCommented:[],comment_fields:{message:"hello google",url_picture:"https://vnreview.vn/image/18/17/65/1817650.jpg",limit:10}}},computed:{p_uids:function(){var t=[];return _.forEach(this.$auth.user().facebook,function(e,n){t[n]={text:e.name,value:e.provider_uid}}),t},selectedId:{get:function(){return this.p_uids[0].value},set:function(t){return t}}},methods:{VueNotify:function(t,e){Vue.notify({group:"app",type:t,text:e})},getData:function(t,e,n){var s,a=this;this.loading=!0,"home"===this.tab?s=route("facebook.home.getPosts",{p_uid:t,type:"page",limit:e}):"feed"===this.tab&&(s=route("facebook.feed.getPosts",{p_uid:t,uids:n,limit:e})),Vue.http.get(s).then(function(t){return t.json()}).then(function(t){a.data=t,a.loading=!1,a.VueNotify("success","Lấy bài viết thành công!")},function(t){a.loading=!1,a.VueNotify("error",t.body)})},startComment:function(t,e,n,s,i){var l=this;this.is_start=!0,this.loading=!0,Object(o.b)(n,[5,15],function(){var o=r(a.a.mark(function o(r,u){return a.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!1!==l.is_start){a.next=5;break}return l.data=[],l.loading=!1,alert("Đã dừng Auto!"),a.abrupt("return","break");case 5:return a.next=7,Vue.http.post(route("facebook.comment.store",{p_uid:t}),{type:e,comment:s,url_picture:i,posts_id:r}).then(function(t){l.VueNotify("success",t.body)},function(t){l.VueNotify("error",t.body)});case 7:u===n.length-1&&(l.data=[],l.loading=!1,alert("Xong!!!"));case 8:case"end":return a.stop()}},o)}));return function(t,e){return o.apply(this,arguments)}}())},getPostsHasCommented:function(t,e){var n=this;this.loading=!0,Vue.http.get(route("facebook.comment.show",{p_uid:t,type:e})).then(function(t){n.postsHasCommented=t.body,n.loading=!1,n.VueNotify("success","Lấy thành công.")},function(t){n.loading=!1,n.VueNotify("error",t.body)})},deleteComment:function(t,e,n){var s=this;this.loading=!0,Object(o.b)(n,[1,4],function(){var o=r(a.a.mark(function o(i,r){return a.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Vue.http.delete(route("facebook.comment.delete",{p_uid:t,type:e,commented_id:i})).then(function(t){s.VueNotify("success",t.body)},function(t){s.VueNotify("error",t.body)});case 2:r===n.length-1&&(s.postsHasCommented=[],s.loading=!1,alert("Xong!!!"));case 3:case"end":return a.stop()}},o)}));return function(t,e){return o.apply(this,arguments)}}())}}},u=n(0),c=Object(u.a)(l,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("page-title-bar"),t._v(" "),n("v-container",{attrs:{fluid:"","grid-list-xl":"","pt-0":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("app-card",{attrs:{heading:"Một số lưu ý",colClasses:"md12 sm12 xs12"}},[n("v-list",[n("v-list-tile-title",[t._v('\r\n            - Ấn "Dừng Auto" sẽ trở lại trạng thái ban đầu!\r\n          ')])],1)],1),t._v(" "),n("app-card",{attrs:{heading:"Chức năng",fullBlock:"true",withTabs:!0,tabs:["Filter","Filter"],colClasses:"md12 sm12 xs12"}},[n("v-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.items,function(e,s){return n("v-tab",{key:s,attrs:{href:"#"+e.value}},[t._v("\r\n            "+t._s(e.text)+"\r\n          ")])}),1),t._v(" "),n("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.items,function(e,s){return n("v-tab-item",{key:s,attrs:{value:e.value}},[n("v-card",{attrs:{flat:""}},[n("v-card-title",{attrs:{"primary-title":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{md6:"",sm6:"",xs12:""}},[n("span",{staticClass:"small pt-4 d-block"},[t._v("Chọn tk muốn comment")])]),t._v(" "),n("v-flex",{attrs:{md6:"",sm6:"",xs12:""}},[n("v-select",{attrs:{items:t.p_uids,disabled:t.data.length>0},model:{value:t.selectedId,callback:function(e){t.selectedId=e},expression:"selectedId"}})],1),t._v(" "),n("v-flex",{attrs:{md6:"",sm6:"",xs12:""}},[n("span",{staticClass:"small pt-4 d-block"},[t._v("Số lượng bài viết muốn comment")])]),t._v(" "),n("v-flex",{attrs:{md6:"",sm6:"",xs12:""}},[n("v-text-field",{attrs:{type:"number",disabled:t.data.length>0},model:{value:t.comment_fields.limit,callback:function(e){t.$set(t.comment_fields,"limit",e)},expression:"comment_fields.limit"}})],1),t._v(" "),"feed"===e.value?n("v-flex",{attrs:{md6:"",sm6:"",xs12:""}},[n("span",{staticClass:"small pt-4 d-block"},[t._v("ID người dùng")])]):t._e(),t._v(" "),"feed"===e.value?n("v-flex",{attrs:{md6:"",sm6:"",xs12:""}},[n("v-text-field",{attrs:{disabled:t.data.length>0},model:{value:t.uids,callback:function(e){t.uids=e},expression:"uids"}})],1):t._e(),t._v(" "),n("v-flex",{attrs:{md12:"",sm12:"",xs12:""}},[n("v-textarea",{attrs:{outline:"",disabled:t.is_start,label:"Nhập bình luận..."},model:{value:t.comment_fields.message,callback:function(e){t.$set(t.comment_fields,"message",e)},expression:"comment_fields.message"}})],1),t._v(" "),n("v-flex",{attrs:{md12:"",sm12:"",xs12:""}},[n("v-text-field",{attrs:{outline:"",disabled:t.is_start,label:"URL hình ảnh..."},model:{value:t.comment_fields.url_picture,callback:function(e){t.$set(t.comment_fields,"url_picture",e)},expression:"comment_fields.url_picture"}})],1)],1)],1)],1),t._v(" "),n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{md4:"",sm6:"",xs12:""}},[0===t.data.length?n("v-btn",{attrs:{color:"info",loading:t.loading,disabled:t.loading},on:{click:function(e){return t.getData(t.selectedId,t.comment_fields.limit,t.uids)}}},[t._v("Lấy bài viết\r\n                ")]):n("v-btn",{attrs:{color:"success",loading:t.loading,disabled:t.loading},on:{click:function(e){return t.startComment(t.selectedId,t.tab,t.data,t.comment_fields.message,t.comment_fields.url_picture)}}},[t._v("Bắt đầu Comment\r\n                ")]),t._v(" "),t.is_start?n("v-btn",{attrs:{color:"warning"},on:{click:function(e){t.is_start=!1}}},[t._v("Dừng Auto!\r\n                ")]):t._e()],1),t._v(" "),n("v-spacer"),t._v(" "),n("v-flex",{attrs:{md4:"",sm6:"",xs12:""}},[0===t.postsHasCommented.length?n("v-btn",{attrs:{color:"warning",loading:t.loading,disabled:t.loading},on:{click:function(e){return t.getPostsHasCommented(t.selectedId,t.tab)}}},[t._v("Lấy các bài viết đã Comment\r\n                ")]):n("v-btn",{attrs:{color:"error",loading:t.loading,disabled:t.loading},on:{click:function(e){return t.deleteComment(t.selectedId,t.tab,t.postsHasCommented)}}},[t._v("Xóa\r\n                ")])],1)],1)],1)}),1)],1)],1)],1)],1)},[],!1,null,null,null);e.default=c.exports}}]);