(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{358:function(t,e,n){"use strict";n.r(e);var s=n(12),i=n.n(s),a=n(9);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e,n,s,i,a,o){try{var l=t[a](o),r=l.value}catch(t){return void n(t)}l.done?e(r):Promise.resolve(r).then(s,i)}function r(t){return function(){var e=this,n=arguments;return new Promise(function(s,i){var a=t.apply(e,n);function o(t){l(a,s,i,o,r,"next",t)}function r(t){l(a,s,i,o,r,"throw",t)}o(void 0)})}}var c={data:function(){return{tab:"home",items:[{text:"Home (NewFeed)",value:"home"},{text:"Feed (Wall)",value:"feed"}],is_start:!1,loading:!1,data:["118296656171131_118306016170195","118296656171131_118313009502829","117552879578842_117649856235811"],uids:"",commented_id:[],comment_fields:{message:"",file:void 0,url_picture:"",limit_posts:10,limit_comments:0}}},computed:{p_uids:function(){var t=[];return _.forEach(this.$auth.user().facebook,function(e,n){t[n]={text:e.name,value:e.provider_uid}}),t},selectedId:{get:function(){return this.p_uids[0].value},set:function(t){return t}}},methods:{VueNotify:function(t,e){Vue.notify({group:"app",type:t,text:e})},onImageChange:function(t){this.comment_fields.file=t},getData:function(){var t,e=this;this.loading=!0,"home"===this.tab?t=route("facebook.home.getPosts",{p_uid:this.selectedId,type:"page",limit_posts:this.comment_fields.limit_posts}):"feed"===this.tab&&(t=route("facebook.feed.getPosts",{p_uid:this.selectedId,uids:this.uids,limit_posts:this.comment_fields.limit_posts,limit_comments:this.comment_fields.limit_comments})),Vue.http.get(t).then(function(t){return t.json()}).then(function(t){e.data=t,e.loading=!1,e.VueNotify("success","Lấy bài viết thành công!")},function(t){e.loading=!1,e.VueNotify("error",t.body)})},startComment:function(){var t=r(i.a.mark(function t(){var e,n=this;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.is_start=!0,this.loading=!0,"object"!==o(this.comment_fields.file)){t.next=7;break}return(e=new FormData).append("file",this.comment_fields.file),t.next=7,Vue.http.post(route("facebook.feed.uploadFile",this.selectedId),e).then(function(t){n.comment_fields.url_picture=t.body,n.VueNotify("success","Lấy url hình ảnh thành công!")});case 7:Object(a.b)(this.data,2,function(){var t=r(i.a.mark(function t(e,s){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!1!==n.is_start){t.next=6;break}return n.data=[],n.loading=!1,n.is_start=!1,alert("Đã dừng Auto!"),t.abrupt("return","break");case 6:return t.next=8,Vue.http.post(route("facebook.feed.comment",{p_uid:n.selectedId,object_id:e}),{comment:n.comment_fields.message,url_picture:n.comment_fields.url_picture}).then(function(t){n.VueNotify("success",t.body)},function(t){n.VueNotify("error",t.body)});case 8:s===n.data.length-1&&(n.data=[],n.loading=!1,n.is_start=!1,alert("Xong!!!"));case 9:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}());case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},m=n(0),d=Object(m.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("page-title-bar"),t._v(" "),n("v-container",{attrs:{fluid:"","grid-list-xl":"","pt-0":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("app-card",{attrs:{heading:"Một số lưu ý",colClasses:"md12 sm12 xs12"}},[n("v-list",[n("v-list-tile-title",[t._v("\r\n            - Nếu số lượng comment muốn reply là 0 thì sẽ chỉ comment lên bài viết và nếu muốn reply comment thì sẽ chỉ reply comment (không comment lên bài viết)\r\n          ")])],1)],1),t._v(" "),n("app-card",{attrs:{heading:"Chức năng",fullBlock:"true",withTabs:!0,tabs:["Filter","Filter"],colClasses:"md12 sm12 xs12"}},[n("v-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.items,function(e,s){return n("v-tab",{key:s,attrs:{href:"#"+e.value}},[t._v("\r\n            "+t._s(e.text)+"\r\n          ")])}),1),t._v(" "),n("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.items,function(e,s){return n("v-tab-item",{key:s,attrs:{value:e.value}},[n("v-card",{attrs:{flat:""}},[n("v-card-title",{attrs:{"primary-title":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{md6:"",sm6:"",xs12:""}},[n("span",{staticClass:"small pt-4 d-block"},[t._v("Chọn tk muốn comment")])]),t._v(" "),n("v-flex",{attrs:{md6:"",sm6:"",xs12:""}},[n("v-select",{attrs:{items:t.p_uids,disabled:t.data.length>0},model:{value:t.selectedId,callback:function(e){t.selectedId=e},expression:"selectedId"}})],1),t._v(" "),n("v-flex",{attrs:{md6:"",sm6:"",xs12:""}},[n("span",{staticClass:"small pt-4 d-block"},[t._v("Số lượng bài viết muốn comment")])]),t._v(" "),n("v-flex",{attrs:{md6:"",sm6:"",xs12:""}},[n("v-text-field",{attrs:{type:"number",disabled:t.data.length>0},model:{value:t.comment_fields.limit_posts,callback:function(e){t.$set(t.comment_fields,"limit_posts",e)},expression:"comment_fields.limit_posts"}})],1),t._v(" "),"feed"===e.value?n("v-flex",{attrs:{md6:"",sm6:"",xs12:""}},[n("span",{staticClass:"small pt-4 d-block"},[t._v("số comment muốn reply trong 1 bài viết")])]):t._e(),t._v(" "),"feed"===e.value?n("v-flex",{attrs:{md6:"",sm6:"",xs12:""}},[n("v-text-field",{attrs:{disabled:t.data.length>0},model:{value:t.comment_fields.limit_comments,callback:function(e){t.$set(t.comment_fields,"limit_comments",e)},expression:"comment_fields.limit_comments"}})],1):t._e(),t._v(" "),"feed"===e.value?n("v-flex",{attrs:{md6:"",sm6:"",xs12:""}},[n("span",{staticClass:"small pt-4 d-block"},[t._v("ID muốn comment")])]):t._e(),t._v(" "),"feed"===e.value?n("v-flex",{attrs:{md6:"",sm6:"",xs12:""}},[n("v-text-field",{attrs:{disabled:t.data.length>0},model:{value:t.uids,callback:function(e){t.uids=e},expression:"uids"}})],1):t._e(),t._v(" "),n("v-flex",{attrs:{md12:"",sm12:"",xs12:""}},[n("v-textarea",{attrs:{outline:"",disabled:t.is_start,label:"Nhập bình luận..."},model:{value:t.comment_fields.message,callback:function(e){t.$set(t.comment_fields,"message",e)},expression:"comment_fields.message"}})],1),t._v(" "),n("v-flex",{attrs:{md12:"",sm12:"",xs12:""}},[n("upload-btn",{attrs:{accept:"image/*",disabled:t.is_start,title:"Chọn hình ảnh"},on:{"file-update":t.onImageChange}})],1)],1)],1)],1),t._v(" "),n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{md4:"",sm6:"",xs12:""}},[0===t.data.length?n("v-btn",{attrs:{color:"info",loading:t.loading,disabled:t.loading},on:{click:function(e){return t.getData()}}},[t._v("Lấy bài viết\r\n                ")]):n("v-btn",{attrs:{color:"success",loading:t.loading,disabled:t.loading},on:{click:function(e){return t.startComment()}}},[t._v("Bắt đầu Comment\r\n                ")]),t._v(" "),t.is_start?n("v-btn",{attrs:{color:"warning"},on:{click:function(e){t.is_start=!1}}},[t._v("Dừng Auto!\r\n                ")]):t._e()],1),t._v(" "),n("v-spacer"),t._v(" "),n("v-flex",{attrs:{md4:"",sm6:"",xs12:""}},[0===t.commented_id.length?n("v-btn",{attrs:{color:"warning",loading:t.loading,disabled:t.loading},on:{click:function(e){return t.getCommentedId()}}},[t._v("Lấy các bài viết đã Comment\r\n                ")]):n("v-btn",{attrs:{color:"error",loading:t.loading,disabled:t.loading},on:{click:function(e){return t.deleteComment(t.selectedId,t.tab,t.commented_id)}}},[t._v("Xóa\r\n                ")])],1)],1)],1)}),1)],1)],1)],1)],1)},[],!1,null,null,null);e.default=d.exports}}]);