(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{346:function(t,e,n){"use strict";n.r(e);var a=n(5);function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s={data:function(){return{loading:!1,search:"",provider_uid:"",snackbar:!1,snackbarMessage:"",y:"top",timeout:2e3,friends:null,getWithType:"me",headers:[{text:"Name",align:"left",sortable:!1},{text:"ID",sortable:!1},{text:"Phone",value:"mobile_phone"},{text:"Birthday",value:"birthday"},{text:"Quê Quán",sortable:!1},{text:"Vị trí hiện tại",sortable:!1},{text:"Actions",sortable:!1}],types:[{text:"ID của tôi",name:"me"},{text:"ID tùy chọn",name:"custom"}]}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),a.forEach(function(e){i(t,e,n[e])})}return t}({},Object(a.b)({account:"facebookAccount"})),mounted:function(){this.provider_uid=this.account.provider_uid},watch:{getWithType:function(t){"me"===t&&(this.provider_uid=this.account.provider_uid)}},methods:{onDeleteFriend:function(t){this.$refs.deleteConfirmationDialog.openDialog(),this.selectFriend=t},unfriend:function(){var t=this;this.$refs.deleteConfirmationDialog.close();var e=this.friends.data.indexOf(this.selectFriend);Vue.http.get(route("facebook.friends.unfriend",id)).then(function(n){200==n.status&&(t.selectFriend=null,t.$delete(t.friends.data,e),t.snackbar=!0,t.snackbarMessage="Đã tiêu diệt "+t.friends[e].name+"!")})},getListFriends:function(t){var e=this;this.loading=!0,Vue.http.get(route("facebook.friends.getList",t)).then(function(t){200==t.status?e.friends=t.body:Vue.notify({group:"app",type:"error",text:"Không lấy được danh sách."}),e.loading=!1})}}},r=n(0),o=Object(r.a)(s,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("page-title-bar"),t._v(" "),n("v-container",{attrs:{"grid-list-xl":"",fluid:"","py-0":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("app-card",{attrs:{heading:t.$t("message.infoToGetListFriends"),colClasses:"xl12 lg12 md12 sm12 xs12"}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs6:"",sm2:""}},[n("v-text-field",{attrs:{name:"uid",label:"ID Facebook",disabled:"me"===t.getWithType},model:{value:t.provider_uid,callback:function(e){t.provider_uid=e},expression:"provider_uid"}})],1),t._v(" "),n("v-flex",{attrs:{xs4:"",sm2:""}},[n("v-select",{attrs:{"hide-details":"",items:t.types,"item-text":"text","item-value":"name",label:"Select","single-line":"","menu-props":"bottom"},model:{value:t.getWithType,callback:function(e){t.getWithType=e},expression:"getWithType"}})],1),t._v(" "),n("v-flex",{attrs:{xs2:"",sm2:""}},[n("v-btn",{staticClass:"gradient-success",attrs:{loading:t.loading,disabled:t.loading},nativeOn:{click:function(e){return t.getListFriends(t.provider_uid)}}},[t._v("\n\t\t\t\t\t\t\t\tLấy\n\t\t\t\t\t\t\t")])],1)],1)],1)],1),t._v(" "),null!=t.friends?[n("v-layout",{attrs:{row:"",wrap:""}},[n("app-card",{attrs:{heading:t.$t("message.infoReactions"),colClasses:"xl12 lg12 md12 sm12 xs12"}},[n("v-chip",{attrs:{"text-color":"white",color:"light-blue"}},[t._v("\n\t\t          Có "+t._s(t.friends.data.length)+" bạn trong danh sách\n\t\t        ")]),t._v(" "),n("v-chip",{attrs:{"text-color":"white",color:"orange"}},[t._v("\n\t\t\t\t\t\t\t0 Người trong danh sách unfriend\n\t\t\t\t\t\t")])],1)],1),t._v(" "),n("v-layout",{attrs:{row:"",wrap:""}},[n("app-card",{attrs:{heading:t.$t("message.friendsList"),fullBlock:!0,colClasses:"xl12 lg12 md12 sm12 d-xs-full"}},[n("v-card-title",[n("v-spacer"),t._v(" "),n("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),n("v-data-table",{attrs:{headers:t.headers,items:t.friends.data,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[n("td",{staticClass:"d-custom-flex align-items-center",style:{minWidth:"200px"}},[n("img",{staticClass:"img-responsive rounded-circle mr-3",attrs:{width:"30",height:"30",src:e.item.picture}}),t._v(" "),n("span",{staticClass:"fs-14"},[t._v(t._s(e.item.name))])]),t._v(" "),n("td",[t._v(t._s(e.item.id))]),t._v(" "),n("td",[t._v(t._s(e.item.mobile_phone))]),t._v(" "),n("td",[t._v(t._s(e.item.birthday))]),t._v(" "),n("td",[t._v(t._s(e.item.hometown?e.item.hometown.name:""))]),t._v(" "),n("td",[t._v(t._s(e.item.location?e.item.location.name:""))]),t._v(" "),n("td",{staticClass:"justify-center layout px-0"},[n("v-btn",{staticClass:"info",attrs:{small:"",href:e.item.link,target:"_blank"}},[t._v("\n\t\t                Trang cá nhân\n\t\t              ")]),t._v(" "),n("v-btn",{staticClass:"error",attrs:{small:""},on:{click:function(n){return t.onDeleteFriend(e.item)}}},[t._v("\n\t\t                Hủy kết bạn\n\t\t              ")])],1)]}},{key:"pageText",fn:function(e){var n=e.pageStart,a=e.pageStop,i=e.itemsLength;return[t._v("\n\t\t            Đang xem "+t._s(n)+" - "+t._s(a)+" trong "+t._s(i)+" bạn\n\t\t          ")]}}],null,!1,1410290435)})],1)],1)]:t._e(),t._v(" "),n("v-snackbar",{attrs:{top:"top"===t.y,timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n         "+t._s(t.snackbarMessage)+"\n      ")]),t._v(" "),n("delete-confirmation-dialog",{ref:"deleteConfirmationDialog",attrs:{heading:"Hủy kết bạn?",message:"Một đi không trở lại nha! Chắc chưa?"},on:{onConfirm:t.unfriend}})],2)],1)},[],!1,null,null,null);e.default=o.exports}}]);