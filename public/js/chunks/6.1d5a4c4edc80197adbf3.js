(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{358:function(t,e,o){"use strict";o.r(e);var a=o(5);function n(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var r={data:function(){return{loader:!1,loading:!1,account_form:{valid:!0,username:"",usernameRules:[function(t){return!!t||"Name is required"}],password:"",passwordRules:[function(t){return!!t||"E-mail is required"}]},headers:[{text:"Tên",align:"left",sortable:!1,value:"name"},{text:"ID Facebook",sortable:!1,value:"provider_uid"},{text:"Hoạt động",sortable:!1,value:"is_active"},{text:"Trạng thái",sortable:!1,value:"status"}]}},computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},a=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),a.forEach(function(e){n(t,e,o[e])})}return t}({},Object(a.b)({account:"facebookAccount",has_account:"checkFacebookAccount"}),{member:function(){if("Member"===this.$auth.user().role)return!0},status:function(){if(this.has_account&&this.member&&0===this.$auth.user().facebook[0].is_active)return!0}}),methods:{submit:function(){this.$refs.form.validate()&&(this.loader=!0,this.loginFacebook())},clear:function(){this.$refs.form.reset()},loginFacebook:function(){var t=this,e={username:this.account_form.username,password:this.account_form.password};Vue.http.post(route("facebook.login"),e).then(function(e){Vue.http.get(route("facebook.account.show")).then(function(e){localStorage.setItem("FacebookAccount",JSON.stringify(e.body)),t.$auth.user().facebook=e.body}),Vue.notify({group:"app",type:"success",text:e.body})},function(t){Vue.notify({group:"app",type:"error",text:t.body})}).then(function(){t.loader=!1})},updateAccountFacebook:function(){var t=this;this.loading=!0,Vue.http.post(route("facebook.account.update")).then(function(t){Vue.notify({group:"app",type:"success",text:t.body})}),Vue.http.get(route("facebook.account.show")).then(function(e){localStorage.setItem("FacebookAccount",JSON.stringify(e.body)),t.$auth.user().facebook=e.body,t.loading=!1})}}},s=o(0),c=Object(s.a)(r,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("page-title-bar"),t._v(" "),o("app-section-loader",{attrs:{status:t.loader}}),t._v(" "),0==t.loader?o("div",[o("v-container",{attrs:{fluid:"","grid-list-xl":"","py-0":""}},[t.has_account&&t.member&&!t.status?t._e():o("app-card",{attrs:{heading:t.$t("message.infoToLoginFB"),customClasses:"mb-30"}},[o("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.account_form.valid,callback:function(e){t.$set(t.account_form,"valid",e)},expression:"account_form.valid"}},[o("v-text-field",{attrs:{label:"Username",rules:t.account_form.usernameRules},model:{value:t.account_form.username,callback:function(e){t.$set(t.account_form,"username",e)},expression:"account_form.username"}}),t._v(" "),o("v-text-field",{attrs:{label:"Password",rules:t.account_form.passwordRules,type:"password"},model:{value:t.account_form.password,callback:function(e){t.$set(t.account_form,"password",e)},expression:"account_form.password"}}),t._v(" "),o("v-btn",{attrs:{color:"success"},on:{click:t.submit}},[t._v("\r\n            "+t._s(t.$t("message.login"))+"\r\n          ")]),t._v(" "),o("v-btn",{attrs:{color:"primary"},on:{click:t.clear}},[t._v(t._s(t.$t("message.clear")))])],1)],1),t._v(" "),t.has_account?o("app-card",{attrs:{heading:t.$t("message.yourInfoAccountFB"),fullBlock:!0,colClasses:"xl12 lg12 md12 sm12 xs12"}},[o("div",{staticClass:"pa-3"},[o("p",{staticClass:"mb-0"},[t._v("ID Facebook, Tên và trạng thái hoạt động của bạn")])]),t._v(" "),o("v-data-table",{attrs:{headers:t.headers,items:t.account,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[o("td",[t._v(t._s(e.item.name))]),t._v(" "),o("td",[t._v(t._s(e.item.provider_uid))]),t._v(" "),o("td",[t._v(t._s(1===e.item.is_active?"true":"false"))]),t._v(" "),o("td",[t._v(t._s(e.item.status||"Hoạt động"))])]}}],null,!1,3791190932)}),t._v(" "),o("v-btn",{attrs:{disabled:t.loading,loading:t.loading,color:"primary"},on:{click:t.updateAccountFacebook}},[t._v("\r\n              Cập nhật tài khoản Facebook\r\n          ")])],1):t._e()],1)],1):t._e()],1)},[],!1,null,null,null);e.default=c.exports}}]);